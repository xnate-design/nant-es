{
  "title": "Promise Abstract Operation",
  "excerpt": "Promise Abstract Operation",
  "date": "2023-01-23T00:00:00.000Z",
  "category": "ControlObjects",
  "tags": "controlObjects",
  "body": {
    "raw": "\n\n## PromiseCapability Records\n\n*PromiseCapability Record* 是一个记录值，用于封装Promise或类似promise的对象，以及能够解析或拒绝该promise的函数。\n*PromiseCapability Record*由 `NewPromiseCapability` 抽象操作生成。\n\n*PromiseCapability Records* 具有下表的一些fields\n\n| Field Name\t         | Value\t            | Meaning            |\n| :------------------- | :----------------- | :----------------- |\n| `[[Promise]]`        | an Object\t        | An object that is usable as a promise. |\n| `[[Resolve]]`        | an function object\t| The function that is used to resolve the given promise. |\n| `[[Reject]]`        | an function object\t| The function that is used to reject the given promise. |\n\n*IfAbruptRejectPromise* 是使用PromiseCapability记录的算法步骤序列的缩写。\n\n## PromiseReaction Records\n\n*PromiseReaction Record* 是一个记录值，**用于存储有关promise以给定值解决或拒绝时应如何反应的信息**。\n*PromiseReaction Record* 由 `PerformPromiseThen` 抽象操作创建，并由`NewPromiseReactionJob`返回的抽象闭包使用。\n\n*PromiseReaction Records* 具有下表的一些fields\n\n| Field Name\t         | Value\t            | Meaning            |\n| :------------------- | :----------------- | :----------------- |\n| `[[Capability]]`     | a PromiseCapability Record or undefined\t      | The capabilities of the promise for which this record provides a reaction handler.\n| `[[Type]]`           | FULFILL or REJECT\t\t                          | The [[Type]] is used when [[Handler]] is EMPTY to allow for behaviour specific to the settlement type.\n| `[[Handler]]`        | a JobCallback Record or EMPTY\t                | The function that should be applied to the incoming value, and whose return value will govern what happens to the derived promise. If [[Handler]] is EMPTY, a function that depends on the value of [[Type]] will be used instead.\n\n## CreateResolvingFunctions\n\n抽象操作 `CreateResolvingFunctions` 接收一个promise类型的参数, 并且返回一个`[[Resolve]]` (a function object) and `[[Reject]]` (a function object) 的 Record fields\n\nIt performs the following steps when called:\n\n<Blockquote>\n1. Let alreadyResolved be the Record { `[[Value]]: false` }.\n2. Let stepsResolve be the algorithm steps defined in Promise Resolve Functions.\n3. Let lengthResolve be the number of non-optional parameters of the function definition in Promise Resolve Functions.\n4. Let resolve be CreateBuiltinFunction(stepsResolve, lengthResolve, \"\", « [[Promise]], [[AlreadyResolved]] »).\n5. Set resolve.[[Promise]] to promise.\n6. Set resolve.[[AlreadyResolved]] to alreadyResolved.\n7. Let stepsReject be the algorithm steps defined in Promise Reject Functions.\n8. Let lengthReject be the number of non-optional parameters of the function definition in Promise Reject Functions.\n9. Let reject be CreateBuiltinFunction(stepsReject, lengthReject, \"\", « [[Promise]], [[AlreadyResolved]] »).\n10. Set reject.[[Promise]] to promise.\n11. Set reject.[[AlreadyResolved]] to alreadyResolved.\n12. Return the Record { `[[Resolve]]: resolve`, `[[Reject]]: reject` }.\n</Blockquote>\n\n### Promise Reject Functions\n\nA promise reject function is an anonymous built-in function that has `[[Promise]]` and `[[AlreadyResolved]]` internal slots.\n\nWhen a promise reject function is called with argument reason, the following steps are taken:\n\n<Blockquote>\n1. Let F be the active function object.\n2. Assert: F has a [[Promise]] internal slot whose value is an Object.\n3. Let promise be F.[[Promise]].\n4. Let alreadyResolved be F.[[AlreadyResolved]].\n5. If alreadyResolved.[[Value]] is true, return undefined.\n6. Set alreadyResolved.[[Value]] to true.\n7. Perform RejectPromise(promise, reason).\n8. Return undefined.\n</Blockquote>\n\n\nThe \"length\" property of a promise reject function is 1𝔽.\n\n### Promise Resolve Functions\n\nA promise resolve function is an anonymous built-in function that has `[[Promise]]` and `[[AlreadyResolved]]` internal slots.\n\nWhen a promise resolve function is called with argument resolution, the following steps are taken:\n\n<Blockquote>\n1. Let F be the active function object.\n2. Assert: F has a [[Promise]] internal slot whose value is an Object.\n3. Let promise be F.[[Promise]].\n4. Let alreadyResolved be F.[[AlreadyResolved]].\n5. If alreadyResolved.[[Value]] is true, return undefined.\n6. Set alreadyResolved.[[Value]] to true.\n7. If SameValue(resolution, promise) is true, then\n  a. Let selfResolutionError be a newly created TypeError object.\n  b. Perform RejectPromise(promise, selfResolutionError).\n  c. Return undefined.\n8. If resolution is not an Object, then\n  a. Perform FulfillPromise(promise, resolution).\n  b. Return undefined.\n9. Let then be Completion(Get(resolution, \"then\")).\n10. If then is an abrupt completion, then\n  a. Perform RejectPromise(promise, then.[[Value]]).\n  b. Return undefined.\n11. Let thenAction be then.[[Value]].\n12. If IsCallable(thenAction) is false, then\n  a. Perform FulfillPromise(promise, resolution).\n  b. Return undefined.\n13. Let thenJobCallback be HostMakeJobCallback(thenAction).\n14. Let job be NewPromiseResolveThenableJob(promise, resolution, thenJobCallback).\n15. Perform HostEnqueuePromiseJob(job.[[Job]], job.[[Realm]]).\n16. Return undefined.\n</Blockquote>\n\nThe \"length\" property of a promise resolve function is 1𝔽.\n\n\n## FulfillPromise\n\n抽象操作符 *FulfillPromise* 接收参数promise和value并且返回UNUSED\n\n执行以下步骤：\n\n<Blockquote>\n1. Assert: The value of promise.[[PromiseState]] is PENDING.\n2. Let reactions be promise.[[PromiseFulfillReactions]].\n3. Set promise.[[PromiseResult]] to value.\n4. Set promise.[[PromiseFulfillReactions]] to undefined.\n5. Set promise.[[PromiseRejectReactions]] to undefined.\n6. Set promise.[[PromiseState]] to FULFILLED.\n7. Perform TriggerPromiseReactions(reactions, value).\n8. Return UNUSED.\n</Blockquote>\n\n\n\n## NewPromiseCapability ( C )\n\nThe abstract operation NewPromiseCapability takes argument C (an ECMAScript language value) and returns either a normal completion containing a PromiseCapability Record or a throw completion. It attempts to use C as a constructor in the fashion of the built-in Promise constructor to create a promise and extract its resolve and reject functions. The promise plus the resolve and reject functions are used to initialize a new PromiseCapability Record. It performs the following steps when called:\n\n<Blockquote>\n1. If IsConstructor(C) is false, throw a TypeError exception.\n2. NOTE: C is assumed to be a constructor function that supports the parameter conventions of the Promise constructor (see 27.2.3.1).\n3. Let resolvingFunctions be the Record { `[[Resolve]]: undefined`, `[[Reject]]: undefined` }.\n4. Let executorClosure be a new Abstract Closure with parameters (resolve, reject) that captures resolvingFunctions and performs the following steps when called:\na. If resolvingFunctions.[[Resolve]] is not undefined, throw a TypeError exception.\nb. If resolvingFunctions.[[Reject]] is not undefined, throw a TypeError exception.\nc. Set resolvingFunctions.[[Resolve]] to resolve.\nd. Set resolvingFunctions.[[Reject]] to reject.\ne. Return undefined.\n5. Let executor be CreateBuiltinFunction(executorClosure, 2, \"\", « »).\n6. Let promise be ? Construct(C, « executor »).\n7. If IsCallable(resolvingFunctions.[[Resolve]]) is false, throw a TypeError exception.\n8. If IsCallable(resolvingFunctions.[[Reject]]) is false, throw a TypeError exception.\n9. Return the PromiseCapability Record { `[[Promise]]: promise`, `[[Resolve]]: resolvingFunctions.[[Resolve]]`, `[[Reject]]: resolvingFunctions.[[Reject]]` }.\n</Blockquote>\n\n<Note >\n  This abstract operation supports Promise subclassing, as it is generic on any constructor that calls a passed executor function argument in the same way as the Promise constructor. It is used to generalize static methods of the Promise constructor to any subclass.\n</Note>\n\n\n## IsPromise ( x )\n\nThe abstract operation IsPromise takes argument x (an ECMAScript language value) and returns a Boolean. It checks for the promise brand on an object. It performs the following steps when called:\n\n<Blockquote>\n1. If x is not an Object, return false.\n2. If x does not have a [[PromiseState]] internal slot, return false.\n3. Return true.\n</Blockquote>\n\n\n## RejectPromise ( promise, reason )\n\nThe abstract operation RejectPromise takes arguments promise (a Promise) and reason (an ECMAScript language value) and returns UNUSED. It performs the following steps when called:\n\n<Blockquote>\n1. Assert: The value of promise.[[PromiseState]] is PENDING.\n2. Let reactions be promise.[[PromiseRejectReactions]].\n3. Set promise.[[PromiseResult]] to reason.\n4. Set promise.[[PromiseFulfillReactions]] to undefined.\n5. Set promise.[[PromiseRejectReactions]] to undefined.\n6. Set promise.[[PromiseState]] to REJECTED.\n7. If promise.[[PromiseIsHandled]] is false, perform HostPromiseRejectionTracker(promise, \"reject\").\n8. Perform TriggerPromiseReactions(reactions, reason).\n9. Return UNUSED.\n</Blockquote>\n\n## TriggerPromiseReactions ( reactions, argument )\n\nThe abstract operation TriggerPromiseReactions takes arguments reactions (a List of PromiseReaction Records) and argument (an ECMAScript language value) and returns UNUSED. It enqueues a new Job for each record in reactions. Each such Job processes the [[Type]] and [[Handler]] of the PromiseReaction Record, and if the [[Handler]] is not EMPTY, calls it passing the given argument. If the [[Handler]] is EMPTY, the behaviour is determined by the [[Type]]. It performs the following steps when called:\n\n1. For each element reaction of reactions, do\na. Let job be NewPromiseReactionJob(reaction, argument).\nb. Perform HostEnqueuePromiseJob(job.[[Job]], job.[[Realm]]).\n2. Return UNUSED.\n\n\n## HostPromiseRejectionTracker ( promise, operation )\n\nThe host-defined abstract operation HostPromiseRejectionTracker takes arguments promise (a Promise) and operation (\"reject\" or \"handle\") and returns UNUSED. It allows host environments to track promise rejections.\n\nThe default implementation of HostPromiseRejectionTracker is to return UNUSED.\n\n<Note >\n  HostPromiseRejectionTracker is called in two scenarios:\n  When a promise is rejected without any handlers, it is called with its operation argument set to \"reject\".\n  When a handler is added to a rejected promise for the first time, it is called with its operation argument set to \"handle\".\n  A typical implementation of HostPromiseRejectionTracker might try to notify developers of unhandled rejections, while also being careful to notify them if such previous notifications are later invalidated by new handlers being attached.\n</Note>\n\n<Note >\n  If operation is \"handle\", an implementation should not hold a reference to promise in a way that would interfere with garbage collection. An implementation may hold a reference to promise if operation is \"reject\", since it is expected that rejections will be rare and not on hot code paths.\n</Note>\n",
    "code": "var Component=(()=>{var bn=Object.create;var k=Object.defineProperty;var pn=Object.getOwnPropertyDescriptor;var _n=Object.getOwnPropertyNames;var hn=Object.getPrototypeOf,Nn=Object.prototype.hasOwnProperty;var G=(d,n)=>()=>(n||d((n={exports:{}}).exports,n),n.exports),yn=(d,n)=>{for(var m in n)k(d,m,{get:n[m],enumerable:!0})},we=(d,n,m,h)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let x of _n(n))!Nn.call(d,x)&&x!==m&&k(d,x,{get:()=>n[x],enumerable:!(h=pn(n,x))||h.enumerable});return d};var xn=(d,n,m)=>(m=d!=null?bn(hn(d)):{},we(n||!d||!d.__esModule?k(m,\"default\",{value:d,enumerable:!0}):m,d)),gn=d=>we(k({},\"__esModule\",{value:!0}),d);var Ue=G((qn,ve)=>{ve.exports=React});var Re=G(K=>{\"use strict\";(function(){\"use strict\";var d=Ue(),n=Symbol.for(\"react.element\"),m=Symbol.for(\"react.portal\"),h=Symbol.for(\"react.fragment\"),x=Symbol.for(\"react.strict_mode\"),z=Symbol.for(\"react.profiler\"),X=Symbol.for(\"react.provider\"),Z=Symbol.for(\"react.context\"),j=Symbol.for(\"react.forward_ref\"),I=Symbol.for(\"react.suspense\"),A=Symbol.for(\"react.suspense_list\"),T=Symbol.for(\"react.memo\"),D=Symbol.for(\"react.lazy\"),Ce=Symbol.for(\"react.offscreen\"),Q=Symbol.iterator,Se=\"@@iterator\";function Fe(e){if(e===null||typeof e!=\"object\")return null;var o=Q&&e[Q]||e[Se];return typeof o==\"function\"?o:null}var w=d.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function b(e){{for(var o=arguments.length,c=new Array(o>1?o-1:0),a=1;a<o;a++)c[a-1]=arguments[a];Oe(\"error\",e,c)}}function Oe(e,o,c){{var a=w.ReactDebugCurrentFrame,t=a.getStackAddendum();t!==\"\"&&(o+=\"%s\",c=c.concat([t]));var l=c.map(function(i){return String(i)});l.unshift(\"Warning: \"+o),Function.prototype.apply.call(console[e],console,l)}}var ke=!1,Ie=!1,Ae=!1,De=!1,Le=!1,ee;ee=Symbol.for(\"react.module.reference\");function Me(e){return!!(typeof e==\"string\"||typeof e==\"function\"||e===h||e===z||Le||e===x||e===I||e===A||De||e===Ce||ke||Ie||Ae||typeof e==\"object\"&&e!==null&&(e.$$typeof===D||e.$$typeof===T||e.$$typeof===X||e.$$typeof===Z||e.$$typeof===j||e.$$typeof===ee||e.getModuleId!==void 0))}function Ve(e,o,c){var a=e.displayName;if(a)return a;var t=o.displayName||o.name||\"\";return t!==\"\"?c+\"(\"+t+\")\":c}function ne(e){return e.displayName||\"Context\"}function y(e){if(e==null)return null;if(typeof e.tag==\"number\"&&b(\"Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue.\"),typeof e==\"function\")return e.displayName||e.name||null;if(typeof e==\"string\")return e;switch(e){case h:return\"Fragment\";case m:return\"Portal\";case z:return\"Profiler\";case x:return\"StrictMode\";case I:return\"Suspense\";case A:return\"SuspenseList\"}if(typeof e==\"object\")switch(e.$$typeof){case Z:var o=e;return ne(o)+\".Consumer\";case X:var c=e;return ne(c._context)+\".Provider\";case j:return Ve(e,e.render,\"ForwardRef\");case T:var a=e.displayName||null;return a!==null?a:y(e.type)||\"Memo\";case D:{var t=e,l=t._payload,i=t._init;try{return y(i(l))}catch{return null}}}return null}var g=Object.assign,R=0,re,oe,ce,ae,se,ie,te;function de(){}de.__reactDisabledLog=!0;function Ye(){{if(R===0){re=console.log,oe=console.info,ce=console.warn,ae=console.error,se=console.group,ie=console.groupCollapsed,te=console.groupEnd;var e={configurable:!0,enumerable:!0,value:de,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}R++}}function We(){{if(R--,R===0){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:g({},e,{value:re}),info:g({},e,{value:oe}),warn:g({},e,{value:ce}),error:g({},e,{value:ae}),group:g({},e,{value:se}),groupCollapsed:g({},e,{value:ie}),groupEnd:g({},e,{value:te})})}R<0&&b(\"disabledDepth fell below zero. This is a bug in React. Please file an issue.\")}}var L=w.ReactCurrentDispatcher,M;function C(e,o,c){{if(M===void 0)try{throw Error()}catch(t){var a=t.stack.trim().match(/\\n( *(at )?)/);M=a&&a[1]||\"\"}return`\n`+M+e}}var V=!1,S;{var $e=typeof WeakMap==\"function\"?WeakMap:Map;S=new $e}function le(e,o){if(!e||V)return\"\";{var c=S.get(e);if(c!==void 0)return c}var a;V=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var l;l=L.current,L.current=null,Ye();try{if(o){var i=function(){throw Error()};if(Object.defineProperty(i.prototype,\"props\",{set:function(){throw Error()}}),typeof Reflect==\"object\"&&Reflect.construct){try{Reflect.construct(i,[])}catch(_){a=_}Reflect.construct(e,[],i)}else{try{i.call()}catch(_){a=_}e.call(i.prototype)}}else{try{throw Error()}catch(_){a=_}e()}}catch(_){if(_&&a&&typeof _.stack==\"string\"){for(var s=_.stack.split(`\n`),p=a.stack.split(`\n`),u=s.length-1,f=p.length-1;u>=1&&f>=0&&s[u]!==p[f];)f--;for(;u>=1&&f>=0;u--,f--)if(s[u]!==p[f]){if(u!==1||f!==1)do if(u--,f--,f<0||s[u]!==p[f]){var N=`\n`+s[u].replace(\" at new \",\" at \");return e.displayName&&N.includes(\"<anonymous>\")&&(N=N.replace(\"<anonymous>\",e.displayName)),typeof e==\"function\"&&S.set(e,N),N}while(u>=1&&f>=0);break}}}finally{V=!1,L.current=l,We(),Error.prepareStackTrace=t}var U=e?e.displayName||e.name:\"\",P=U?C(U):\"\";return typeof e==\"function\"&&S.set(e,P),P}function He(e,o,c){return le(e,!1)}function Je(e){var o=e.prototype;return!!(o&&o.isReactComponent)}function F(e,o,c){if(e==null)return\"\";if(typeof e==\"function\")return le(e,Je(e));if(typeof e==\"string\")return C(e);switch(e){case I:return C(\"Suspense\");case A:return C(\"SuspenseList\")}if(typeof e==\"object\")switch(e.$$typeof){case j:return He(e.render);case T:return F(e.type,o,c);case D:{var a=e,t=a._payload,l=a._init;try{return F(l(t),o,c)}catch{}}}return\"\"}var q=Object.prototype.hasOwnProperty,me={},ue=w.ReactDebugCurrentFrame;function O(e){if(e){var o=e._owner,c=F(e.type,e._source,o?o.type:null);ue.setExtraStackFrame(c)}else ue.setExtraStackFrame(null)}function Be(e,o,c,a,t){{var l=Function.call.bind(q);for(var i in e)if(l(e,i)){var s=void 0;try{if(typeof e[i]!=\"function\"){var p=Error((a||\"React class\")+\": \"+c+\" type `\"+i+\"` is invalid; it must be a function, usually from the `prop-types` package, but received `\"+typeof e[i]+\"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.\");throw p.name=\"Invariant Violation\",p}s=e[i](o,i,a,c,null,\"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED\")}catch(u){s=u}s&&!(s instanceof Error)&&(O(t),b(\"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).\",a||\"React class\",c,i,typeof s),O(null)),s instanceof Error&&!(s.message in me)&&(me[s.message]=!0,O(t),b(\"Failed %s type: %s\",c,s.message),O(null))}}}var Ge=Array.isArray;function Y(e){return Ge(e)}function Ke(e){{var o=typeof Symbol==\"function\"&&Symbol.toStringTag,c=o&&e[Symbol.toStringTag]||e.constructor.name||\"Object\";return c}}function ze(e){try{return fe(e),!1}catch{return!0}}function fe(e){return\"\"+e}function be(e){if(ze(e))return b(\"The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.\",Ke(e)),fe(e)}var E=w.ReactCurrentOwner,Xe={key:!0,ref:!0,__self:!0,__source:!0},pe,_e,W;W={};function Ze(e){if(q.call(e,\"ref\")){var o=Object.getOwnPropertyDescriptor(e,\"ref\").get;if(o&&o.isReactWarning)return!1}return e.ref!==void 0}function Qe(e){if(q.call(e,\"key\")){var o=Object.getOwnPropertyDescriptor(e,\"key\").get;if(o&&o.isReactWarning)return!1}return e.key!==void 0}function en(e,o){if(typeof e.ref==\"string\"&&E.current&&o&&E.current.stateNode!==o){var c=y(E.current.type);W[c]||(b('Component \"%s\" contains the string ref \"%s\". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',y(E.current.type),e.ref),W[c]=!0)}}function nn(e,o){{var c=function(){pe||(pe=!0,b(\"%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)\",o))};c.isReactWarning=!0,Object.defineProperty(e,\"key\",{get:c,configurable:!0})}}function rn(e,o){{var c=function(){_e||(_e=!0,b(\"%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)\",o))};c.isReactWarning=!0,Object.defineProperty(e,\"ref\",{get:c,configurable:!0})}}var on=function(e,o,c,a,t,l,i){var s={$$typeof:n,type:e,key:o,ref:c,props:i,_owner:l};return s._store={},Object.defineProperty(s._store,\"validated\",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(s,\"_self\",{configurable:!1,enumerable:!1,writable:!1,value:a}),Object.defineProperty(s,\"_source\",{configurable:!1,enumerable:!1,writable:!1,value:t}),Object.freeze&&(Object.freeze(s.props),Object.freeze(s)),s};function cn(e,o,c,a,t){{var l,i={},s=null,p=null;c!==void 0&&(be(c),s=\"\"+c),Qe(o)&&(be(o.key),s=\"\"+o.key),Ze(o)&&(p=o.ref,en(o,t));for(l in o)q.call(o,l)&&!Xe.hasOwnProperty(l)&&(i[l]=o[l]);if(e&&e.defaultProps){var u=e.defaultProps;for(l in u)i[l]===void 0&&(i[l]=u[l])}if(s||p){var f=typeof e==\"function\"?e.displayName||e.name||\"Unknown\":e;s&&nn(i,f),p&&rn(i,f)}return on(e,s,p,t,a,E.current,i)}}var $=w.ReactCurrentOwner,he=w.ReactDebugCurrentFrame;function v(e){if(e){var o=e._owner,c=F(e.type,e._source,o?o.type:null);he.setExtraStackFrame(c)}else he.setExtraStackFrame(null)}var H;H=!1;function J(e){return typeof e==\"object\"&&e!==null&&e.$$typeof===n}function Ne(){{if($.current){var e=y($.current.type);if(e)return`\n\nCheck the render method of \\``+e+\"`.\"}return\"\"}}function an(e){{if(e!==void 0){var o=e.fileName.replace(/^.*[\\\\\\/]/,\"\"),c=e.lineNumber;return`\n\nCheck your code at `+o+\":\"+c+\".\"}return\"\"}}var ye={};function sn(e){{var o=Ne();if(!o){var c=typeof e==\"string\"?e:e.displayName||e.name;c&&(o=`\n\nCheck the top-level render call using <`+c+\">.\")}return o}}function xe(e,o){{if(!e._store||e._store.validated||e.key!=null)return;e._store.validated=!0;var c=sn(o);if(ye[c])return;ye[c]=!0;var a=\"\";e&&e._owner&&e._owner!==$.current&&(a=\" It was passed a child from \"+y(e._owner.type)+\".\"),v(e),b('Each child in a list should have a unique \"key\" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',c,a),v(null)}}function ge(e,o){{if(typeof e!=\"object\")return;if(Y(e))for(var c=0;c<e.length;c++){var a=e[c];J(a)&&xe(a,o)}else if(J(e))e._store&&(e._store.validated=!0);else if(e){var t=Fe(e);if(typeof t==\"function\"&&t!==e.entries)for(var l=t.call(e),i;!(i=l.next()).done;)J(i.value)&&xe(i.value,o)}}}function tn(e){{var o=e.type;if(o==null||typeof o==\"string\")return;var c;if(typeof o==\"function\")c=o.propTypes;else if(typeof o==\"object\"&&(o.$$typeof===j||o.$$typeof===T))c=o.propTypes;else return;if(c){var a=y(o);Be(c,e.props,\"prop\",a,e)}else if(o.PropTypes!==void 0&&!H){H=!0;var t=y(o);b(\"Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?\",t||\"Unknown\")}typeof o.getDefaultProps==\"function\"&&!o.getDefaultProps.isReactClassApproved&&b(\"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.\")}}function dn(e){{for(var o=Object.keys(e.props),c=0;c<o.length;c++){var a=o[c];if(a!==\"children\"&&a!==\"key\"){v(e),b(\"Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.\",a),v(null);break}}e.ref!==null&&(v(e),b(\"Invalid attribute `ref` supplied to `React.Fragment`.\"),v(null))}}var Pe={};function ln(e,o,c,a,t,l){{var i=Me(e);if(!i){var s=\"\";(e===void 0||typeof e==\"object\"&&e!==null&&Object.keys(e).length===0)&&(s+=\" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\");var p=an(t);p?s+=p:s+=Ne();var u;e===null?u=\"null\":Y(e)?u=\"array\":e!==void 0&&e.$$typeof===n?(u=\"<\"+(y(e.type)||\"Unknown\")+\" />\",s=\" Did you accidentally export a JSX literal instead of a component?\"):u=typeof e,b(\"React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s\",u,s)}var f=cn(e,o,c,t,l);if(f==null)return f;if(i){var N=o.children;if(N!==void 0)if(a)if(Y(N)){for(var U=0;U<N.length;U++)ge(N[U],e);Object.freeze&&Object.freeze(N)}else b(\"React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.\");else ge(N,e)}if(q.call(o,\"key\")){var P=y(e),_=Object.keys(o).filter(function(fn){return fn!==\"key\"}),B=_.length>0?\"{key: someKey, \"+_.join(\": ..., \")+\": ...}\":\"{key: someKey}\";if(!Pe[P+B]){var un=_.length>0?\"{\"+_.join(\": ..., \")+\": ...}\":\"{}\";b(`A props object containing a \"key\" prop is being spread into JSX:\n  let props = %s;\n  <%s {...props} />\nReact keys must be passed directly to JSX without using spread:\n  let props = %s;\n  <%s key={someKey} {...props} />`,B,P,un,P),Pe[P+B]=!0}}return e===h?dn(f):tn(f),f}}var mn=ln;K.Fragment=h,K.jsxDEV=mn})()});var Ee=G((jn,qe)=>{\"use strict\";qe.exports=Re()});var Un={};yn(Un,{default:()=>vn,frontmatter:()=>Pn});var r=xn(Ee()),Pn={title:\"Promise Abstract Operation\",excerpt:\"Promise Abstract Operation\",date:new Date(1674432e6),type:\"Docs\",category:\"ControlObjects\",tags:\"controlObjects\"};function je(d){let n=Object.assign({h2:\"h2\",p:\"p\",em:\"em\",code:\"code\",table:\"table\",thead:\"thead\",tr:\"tr\",th:\"th\",tbody:\"tbody\",td:\"td\",strong:\"strong\",ol:\"ol\",li:\"li\",h3:\"h3\"},d.components),{Blockquote:m,Note:h}=n;return m||Te(\"Blockquote\",!0,\"45:1-58:14\"),h||Te(\"Note\",!0,\"157:1-159:8\"),(0,r.jsxDEV)(r.Fragment,{children:[(0,r.jsxDEV)(n.h2,{id:\"promisecapability-records\",children:\"PromiseCapability Records\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:11,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.p,{children:[(0,r.jsxDEV)(n.em,{children:\"PromiseCapability Record\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:13,columnNumber:1},this),` \\u662F\\u4E00\\u4E2A\\u8BB0\\u5F55\\u503C\\uFF0C\\u7528\\u4E8E\\u5C01\\u88C5Promise\\u6216\\u7C7B\\u4F3Cpromise\\u7684\\u5BF9\\u8C61\\uFF0C\\u4EE5\\u53CA\\u80FD\\u591F\\u89E3\\u6790\\u6216\\u62D2\\u7EDD\\u8BE5promise\\u7684\\u51FD\\u6570\\u3002\n`,(0,r.jsxDEV)(n.em,{children:\"PromiseCapability Record\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:14,columnNumber:1},this),\"\\u7531 \",(0,r.jsxDEV)(n.code,{children:\"NewPromiseCapability\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:14,columnNumber:29},this),\" \\u62BD\\u8C61\\u64CD\\u4F5C\\u751F\\u6210\\u3002\"]},void 0,!0,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:13,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.p,{children:[(0,r.jsxDEV)(n.em,{children:\"PromiseCapability Records\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:16,columnNumber:1},this),\" \\u5177\\u6709\\u4E0B\\u8868\\u7684\\u4E00\\u4E9Bfields\"]},void 0,!0,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:16,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.table,{children:[(0,r.jsxDEV)(n.thead,{children:(0,r.jsxDEV)(n.tr,{children:[(0,r.jsxDEV)(n.th,{align:\"left\",children:\"Field Name\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:18,columnNumber:1},this),(0,r.jsxDEV)(n.th,{align:\"left\",children:\"Value\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:18,columnNumber:23},this),(0,r.jsxDEV)(n.th,{align:\"left\",children:\"Meaning\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:18,columnNumber:43},this)]},void 0,!0,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:18,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:18,columnNumber:1},this),(0,r.jsxDEV)(n.tbody,{children:[(0,r.jsxDEV)(n.tr,{children:[(0,r.jsxDEV)(n.td,{align:\"left\",children:(0,r.jsxDEV)(n.code,{children:\"[[Promise]]\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:20,columnNumber:3},this)},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:20,columnNumber:1},this),(0,r.jsxDEV)(n.td,{align:\"left\",children:\"an Object\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:20,columnNumber:24},this),(0,r.jsxDEV)(n.td,{align:\"left\",children:\"An object that is usable as a promise.\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:20,columnNumber:44},this)]},void 0,!0,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:20,columnNumber:1},this),(0,r.jsxDEV)(n.tr,{children:[(0,r.jsxDEV)(n.td,{align:\"left\",children:(0,r.jsxDEV)(n.code,{children:\"[[Resolve]]\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:21,columnNumber:3},this)},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:21,columnNumber:1},this),(0,r.jsxDEV)(n.td,{align:\"left\",children:\"an function object\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:21,columnNumber:24},this),(0,r.jsxDEV)(n.td,{align:\"left\",children:\"The function that is used to resolve the given promise.\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:21,columnNumber:45},this)]},void 0,!0,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:21,columnNumber:1},this),(0,r.jsxDEV)(n.tr,{children:[(0,r.jsxDEV)(n.td,{align:\"left\",children:(0,r.jsxDEV)(n.code,{children:\"[[Reject]]\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:22,columnNumber:3},this)},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:22,columnNumber:1},this),(0,r.jsxDEV)(n.td,{align:\"left\",children:\"an function object\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:22,columnNumber:23},this),(0,r.jsxDEV)(n.td,{align:\"left\",children:\"The function that is used to reject the given promise.\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:22,columnNumber:44},this)]},void 0,!0,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:22,columnNumber:1},this)]},void 0,!0,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:20,columnNumber:1},this)]},void 0,!0,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:18,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.p,{children:[(0,r.jsxDEV)(n.em,{children:\"IfAbruptRejectPromise\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:24,columnNumber:1},this),\" \\u662F\\u4F7F\\u7528PromiseCapability\\u8BB0\\u5F55\\u7684\\u7B97\\u6CD5\\u6B65\\u9AA4\\u5E8F\\u5217\\u7684\\u7F29\\u5199\\u3002\"]},void 0,!0,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:24,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.h2,{id:\"promisereaction-records\",children:\"PromiseReaction Records\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:26,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.p,{children:[(0,r.jsxDEV)(n.em,{children:\"PromiseReaction Record\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:28,columnNumber:1},this),\" \\u662F\\u4E00\\u4E2A\\u8BB0\\u5F55\\u503C\\uFF0C\",(0,r.jsxDEV)(n.strong,{children:\"\\u7528\\u4E8E\\u5B58\\u50A8\\u6709\\u5173promise\\u4EE5\\u7ED9\\u5B9A\\u503C\\u89E3\\u51B3\\u6216\\u62D2\\u7EDD\\u65F6\\u5E94\\u5982\\u4F55\\u53CD\\u5E94\\u7684\\u4FE1\\u606F\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:28,columnNumber:33},this),`\\u3002\n`,(0,r.jsxDEV)(n.em,{children:\"PromiseReaction Record\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:29,columnNumber:1},this),\" \\u7531 \",(0,r.jsxDEV)(n.code,{children:\"PerformPromiseThen\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:29,columnNumber:28},this),\" \\u62BD\\u8C61\\u64CD\\u4F5C\\u521B\\u5EFA\\uFF0C\\u5E76\\u7531\",(0,r.jsxDEV)(n.code,{children:\"NewPromiseReactionJob\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:29,columnNumber:58},this),\"\\u8FD4\\u56DE\\u7684\\u62BD\\u8C61\\u95ED\\u5305\\u4F7F\\u7528\\u3002\"]},void 0,!0,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:28,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.p,{children:[(0,r.jsxDEV)(n.em,{children:\"PromiseReaction Records\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:31,columnNumber:1},this),\" \\u5177\\u6709\\u4E0B\\u8868\\u7684\\u4E00\\u4E9Bfields\"]},void 0,!0,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:31,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.table,{children:[(0,r.jsxDEV)(n.thead,{children:(0,r.jsxDEV)(n.tr,{children:[(0,r.jsxDEV)(n.th,{align:\"left\",children:\"Field Name\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:33,columnNumber:1},this),(0,r.jsxDEV)(n.th,{align:\"left\",children:\"Value\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:33,columnNumber:23},this),(0,r.jsxDEV)(n.th,{align:\"left\",children:\"Meaning\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:33,columnNumber:43},this)]},void 0,!0,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:33,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:33,columnNumber:1},this),(0,r.jsxDEV)(n.tbody,{children:[(0,r.jsxDEV)(n.tr,{children:[(0,r.jsxDEV)(n.td,{align:\"left\",children:(0,r.jsxDEV)(n.code,{children:\"[[Capability]]\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:35,columnNumber:3},this)},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:35,columnNumber:1},this),(0,r.jsxDEV)(n.td,{align:\"left\",children:\"a PromiseCapability Record or undefined\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:35,columnNumber:24},this),(0,r.jsxDEV)(n.td,{align:\"left\",children:\"The capabilities of the promise for which this record provides a reaction handler.\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:35,columnNumber:72},this)]},void 0,!0,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:35,columnNumber:1},this),(0,r.jsxDEV)(n.tr,{children:[(0,r.jsxDEV)(n.td,{align:\"left\",children:(0,r.jsxDEV)(n.code,{children:\"[[Type]]\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:36,columnNumber:3},this)},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:36,columnNumber:1},this),(0,r.jsxDEV)(n.td,{align:\"left\",children:\"FULFILL or REJECT\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:36,columnNumber:24},this),(0,r.jsxDEV)(n.td,{align:\"left\",children:\"The [[Type]] is used when [[Handler]] is EMPTY to allow for behaviour specific to the settlement type.\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:36,columnNumber:71},this)]},void 0,!0,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:36,columnNumber:1},this),(0,r.jsxDEV)(n.tr,{children:[(0,r.jsxDEV)(n.td,{align:\"left\",children:(0,r.jsxDEV)(n.code,{children:\"[[Handler]]\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:37,columnNumber:3},this)},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:37,columnNumber:1},this),(0,r.jsxDEV)(n.td,{align:\"left\",children:\"a JobCallback Record or EMPTY\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:37,columnNumber:24},this),(0,r.jsxDEV)(n.td,{align:\"left\",children:\"The function that should be applied to the incoming value, and whose return value will govern what happens to the derived promise. If [[Handler]] is EMPTY, a function that depends on the value of [[Type]] will be used instead.\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:37,columnNumber:72},this)]},void 0,!0,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:37,columnNumber:1},this)]},void 0,!0,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:35,columnNumber:1},this)]},void 0,!0,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:33,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.h2,{id:\"createresolvingfunctions\",children:\"CreateResolvingFunctions\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:39,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.p,{children:[\"\\u62BD\\u8C61\\u64CD\\u4F5C \",(0,r.jsxDEV)(n.code,{children:\"CreateResolvingFunctions\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:41,columnNumber:6},this),\" \\u63A5\\u6536\\u4E00\\u4E2Apromise\\u7C7B\\u578B\\u7684\\u53C2\\u6570, \\u5E76\\u4E14\\u8FD4\\u56DE\\u4E00\\u4E2A\",(0,r.jsxDEV)(n.code,{children:\"[[Resolve]]\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:41,columnNumber:57},this),\" (a function object) and \",(0,r.jsxDEV)(n.code,{children:\"[[Reject]]\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:41,columnNumber:95},this),\" (a function object) \\u7684 Record fields\"]},void 0,!0,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:41,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.p,{children:\"It performs the following steps when called:\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:43,columnNumber:1},this),`\n`,(0,r.jsxDEV)(m,{children:(0,r.jsxDEV)(n.ol,{children:[`\n`,(0,r.jsxDEV)(n.li,{children:[\"Let alreadyResolved be the Record \",\"[[Value]]: false\",\".\"]},void 0,!0,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:46,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:\"Let stepsResolve be the algorithm steps defined in Promise Resolve Functions.\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:47,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:\"Let lengthResolve be the number of non-optional parameters of the function definition in Promise Resolve Functions.\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:48,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:'Let resolve be CreateBuiltinFunction(stepsResolve, lengthResolve, \"\", \\xAB [[Promise]], [[AlreadyResolved]] \\xBB).'},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:49,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:\"Set resolve.[[Promise]] to promise.\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:50,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:\"Set resolve.[[AlreadyResolved]] to alreadyResolved.\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:51,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:\"Let stepsReject be the algorithm steps defined in Promise Reject Functions.\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:52,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:\"Let lengthReject be the number of non-optional parameters of the function definition in Promise Reject Functions.\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:53,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:'Let reject be CreateBuiltinFunction(stepsReject, lengthReject, \"\", \\xAB [[Promise]], [[AlreadyResolved]] \\xBB).'},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:54,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:\"Set reject.[[Promise]] to promise.\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:55,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:\"Set reject.[[AlreadyResolved]] to alreadyResolved.\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:56,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:[\"Return the Record \",\"[[Reject]]: reject\",\".\"]},void 0,!0,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:57,columnNumber:1},this),`\n`]},void 0,!0,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:46,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:45,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.h3,{id:\"promise-reject-functions\",children:\"Promise Reject Functions\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:60,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.p,{children:[\"A promise reject function is an anonymous built-in function that has \",(0,r.jsxDEV)(n.code,{children:\"[[Promise]]\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:62,columnNumber:70},this),\" and \",(0,r.jsxDEV)(n.code,{children:\"[[AlreadyResolved]]\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:62,columnNumber:88},this),\" internal slots.\"]},void 0,!0,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:62,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.p,{children:\"When a promise reject function is called with argument reason, the following steps are taken:\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:64,columnNumber:1},this),`\n`,(0,r.jsxDEV)(m,{children:(0,r.jsxDEV)(n.ol,{children:[`\n`,(0,r.jsxDEV)(n.li,{children:\"Let F be the active function object.\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:67,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:\"Assert: F has a [[Promise]] internal slot whose value is an Object.\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:68,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:\"Let promise be F.[[Promise]].\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:69,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:\"Let alreadyResolved be F.[[AlreadyResolved]].\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:70,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:\"If alreadyResolved.[[Value]] is true, return undefined.\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:71,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:\"Set alreadyResolved.[[Value]] to true.\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:72,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:\"Perform RejectPromise(promise, reason).\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:73,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:\"Return undefined.\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:74,columnNumber:1},this),`\n`]},void 0,!0,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:67,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:66,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.p,{children:'The \"length\" property of a promise reject function is 1\\u{1D53D}.'},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:78,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.h3,{id:\"promise-resolve-functions\",children:\"Promise Resolve Functions\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:80,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.p,{children:[\"A promise resolve function is an anonymous built-in function that has \",(0,r.jsxDEV)(n.code,{children:\"[[Promise]]\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:82,columnNumber:71},this),\" and \",(0,r.jsxDEV)(n.code,{children:\"[[AlreadyResolved]]\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:82,columnNumber:89},this),\" internal slots.\"]},void 0,!0,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:82,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.p,{children:\"When a promise resolve function is called with argument resolution, the following steps are taken:\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:84,columnNumber:1},this),`\n`,(0,r.jsxDEV)(m,{children:(0,r.jsxDEV)(n.ol,{children:[`\n`,(0,r.jsxDEV)(n.li,{children:\"Let F be the active function object.\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:87,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:\"Assert: F has a [[Promise]] internal slot whose value is an Object.\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:88,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:\"Let promise be F.[[Promise]].\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:89,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:\"Let alreadyResolved be F.[[AlreadyResolved]].\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:90,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:\"If alreadyResolved.[[Value]] is true, return undefined.\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:91,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:\"Set alreadyResolved.[[Value]] to true.\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:92,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:`If SameValue(resolution, promise) is true, then\na. Let selfResolutionError be a newly created TypeError object.\nb. Perform RejectPromise(promise, selfResolutionError).\nc. Return undefined.`},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:93,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:`If resolution is not an Object, then\na. Perform FulfillPromise(promise, resolution).\nb. Return undefined.`},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:97,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:'Let then be Completion(Get(resolution, \"then\")).'},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:100,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:`If then is an abrupt completion, then\na. Perform RejectPromise(promise, then.[[Value]]).\nb. Return undefined.`},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:101,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:\"Let thenAction be then.[[Value]].\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:104,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:`If IsCallable(thenAction) is false, then\na. Perform FulfillPromise(promise, resolution).\nb. Return undefined.`},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:105,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:\"Let thenJobCallback be HostMakeJobCallback(thenAction).\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:108,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:\"Let job be NewPromiseResolveThenableJob(promise, resolution, thenJobCallback).\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:109,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:\"Perform HostEnqueuePromiseJob(job.[[Job]], job.[[Realm]]).\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:110,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:\"Return undefined.\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:111,columnNumber:1},this),`\n`]},void 0,!0,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:87,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:86,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.p,{children:'The \"length\" property of a promise resolve function is 1\\u{1D53D}.'},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:114,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.h2,{id:\"fulfillpromise\",children:\"FulfillPromise\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:117,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.p,{children:[\"\\u62BD\\u8C61\\u64CD\\u4F5C\\u7B26 \",(0,r.jsxDEV)(n.em,{children:\"FulfillPromise\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:119,columnNumber:7},this),\" \\u63A5\\u6536\\u53C2\\u6570promise\\u548Cvalue\\u5E76\\u4E14\\u8FD4\\u56DEUNUSED\"]},void 0,!0,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:119,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.p,{children:\"\\u6267\\u884C\\u4EE5\\u4E0B\\u6B65\\u9AA4\\uFF1A\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:121,columnNumber:1},this),`\n`,(0,r.jsxDEV)(m,{children:(0,r.jsxDEV)(n.ol,{children:[`\n`,(0,r.jsxDEV)(n.li,{children:\"Assert: The value of promise.[[PromiseState]] is PENDING.\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:124,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:\"Let reactions be promise.[[PromiseFulfillReactions]].\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:125,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:\"Set promise.[[PromiseResult]] to value.\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:126,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:\"Set promise.[[PromiseFulfillReactions]] to undefined.\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:127,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:\"Set promise.[[PromiseRejectReactions]] to undefined.\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:128,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:\"Set promise.[[PromiseState]] to FULFILLED.\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:129,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:\"Perform TriggerPromiseReactions(reactions, value).\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:130,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:\"Return UNUSED.\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:131,columnNumber:1},this),`\n`]},void 0,!0,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:124,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:123,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.h2,{id:\"newpromisecapability--c-\",children:\"NewPromiseCapability ( C )\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:136,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.p,{children:\"The abstract operation NewPromiseCapability takes argument C (an ECMAScript language value) and returns either a normal completion containing a PromiseCapability Record or a throw completion. It attempts to use C as a constructor in the fashion of the built-in Promise constructor to create a promise and extract its resolve and reject functions. The promise plus the resolve and reject functions are used to initialize a new PromiseCapability Record. It performs the following steps when called:\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:138,columnNumber:1},this),`\n`,(0,r.jsxDEV)(m,{children:(0,r.jsxDEV)(n.ol,{children:[`\n`,(0,r.jsxDEV)(n.li,{children:\"If IsConstructor(C) is false, throw a TypeError exception.\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:141,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:\"NOTE: C is assumed to be a constructor function that supports the parameter conventions of the Promise constructor (see 27.2.3.1).\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:142,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:[\"Let resolvingFunctions be the Record \",\"[[Reject]]: undefined\",\".\"]},void 0,!0,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:143,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:`Let executorClosure be a new Abstract Closure with parameters (resolve, reject) that captures resolvingFunctions and performs the following steps when called:\na. If resolvingFunctions.[[Resolve]] is not undefined, throw a TypeError exception.\nb. If resolvingFunctions.[[Reject]] is not undefined, throw a TypeError exception.\nc. Set resolvingFunctions.[[Resolve]] to resolve.\nd. Set resolvingFunctions.[[Reject]] to reject.\ne. Return undefined.`},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:144,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:'Let executor be CreateBuiltinFunction(executorClosure, 2, \"\", \\xAB \\xBB).'},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:150,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:\"Let promise be ? Construct(C, \\xAB executor \\xBB).\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:151,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:\"If IsCallable(resolvingFunctions.[[Resolve]]) is false, throw a TypeError exception.\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:152,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:\"If IsCallable(resolvingFunctions.[[Reject]]) is false, throw a TypeError exception.\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:153,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:[\"Return the PromiseCapability Record \",\"[[Reject]]: resolvingFunctions.[[Reject]]\",\".\"]},void 0,!0,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:154,columnNumber:1},this),`\n`]},void 0,!0,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:141,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:140,columnNumber:1},this),`\n`,(0,r.jsxDEV)(h,{children:(0,r.jsxDEV)(n.p,{children:\"This abstract operation supports Promise subclassing, as it is generic on any constructor that calls a passed executor function argument in the same way as the Promise constructor. It is used to generalize static methods of the Promise constructor to any subclass.\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:158,columnNumber:3},this)},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:157,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.h2,{id:\"ispromise--x-\",children:\"IsPromise ( x )\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:162,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.p,{children:\"The abstract operation IsPromise takes argument x (an ECMAScript language value) and returns a Boolean. It checks for the promise brand on an object. It performs the following steps when called:\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:164,columnNumber:1},this),`\n`,(0,r.jsxDEV)(m,{children:(0,r.jsxDEV)(n.ol,{children:[`\n`,(0,r.jsxDEV)(n.li,{children:\"If x is not an Object, return false.\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:167,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:\"If x does not have a [[PromiseState]] internal slot, return false.\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:168,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:\"Return true.\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:169,columnNumber:1},this),`\n`]},void 0,!0,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:167,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:166,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.h2,{id:\"rejectpromise--promise-reason-\",children:\"RejectPromise ( promise, reason )\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:173,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.p,{children:\"The abstract operation RejectPromise takes arguments promise (a Promise) and reason (an ECMAScript language value) and returns UNUSED. It performs the following steps when called:\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:175,columnNumber:1},this),`\n`,(0,r.jsxDEV)(m,{children:(0,r.jsxDEV)(n.ol,{children:[`\n`,(0,r.jsxDEV)(n.li,{children:\"Assert: The value of promise.[[PromiseState]] is PENDING.\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:178,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:\"Let reactions be promise.[[PromiseRejectReactions]].\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:179,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:\"Set promise.[[PromiseResult]] to reason.\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:180,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:\"Set promise.[[PromiseFulfillReactions]] to undefined.\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:181,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:\"Set promise.[[PromiseRejectReactions]] to undefined.\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:182,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:\"Set promise.[[PromiseState]] to REJECTED.\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:183,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:'If promise.[[PromiseIsHandled]] is false, perform HostPromiseRejectionTracker(promise, \"reject\").'},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:184,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:\"Perform TriggerPromiseReactions(reactions, reason).\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:185,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:\"Return UNUSED.\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:186,columnNumber:1},this),`\n`]},void 0,!0,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:178,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:177,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.h2,{id:\"triggerpromisereactions--reactions-argument-\",children:\"TriggerPromiseReactions ( reactions, argument )\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:189,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.p,{children:\"The abstract operation TriggerPromiseReactions takes arguments reactions (a List of PromiseReaction Records) and argument (an ECMAScript language value) and returns UNUSED. It enqueues a new Job for each record in reactions. Each such Job processes the [[Type]] and [[Handler]] of the PromiseReaction Record, and if the [[Handler]] is not EMPTY, calls it passing the given argument. If the [[Handler]] is EMPTY, the behaviour is determined by the [[Type]]. It performs the following steps when called:\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:191,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.ol,{children:[`\n`,(0,r.jsxDEV)(n.li,{children:`For each element reaction of reactions, do\na. Let job be NewPromiseReactionJob(reaction, argument).\nb. Perform HostEnqueuePromiseJob(job.[[Job]], job.[[Realm]]).`},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:193,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.li,{children:\"Return UNUSED.\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:196,columnNumber:1},this),`\n`]},void 0,!0,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:193,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.h2,{id:\"hostpromiserejectiontracker--promise-operation-\",children:\"HostPromiseRejectionTracker ( promise, operation )\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:199,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.p,{children:'The host-defined abstract operation HostPromiseRejectionTracker takes arguments promise (a Promise) and operation (\"reject\" or \"handle\") and returns UNUSED. It allows host environments to track promise rejections.'},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:201,columnNumber:1},this),`\n`,(0,r.jsxDEV)(n.p,{children:\"The default implementation of HostPromiseRejectionTracker is to return UNUSED.\"},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:203,columnNumber:1},this),`\n`,(0,r.jsxDEV)(h,{children:(0,r.jsxDEV)(n.p,{children:`HostPromiseRejectionTracker is called in two scenarios:\nWhen a promise is rejected without any handlers, it is called with its operation argument set to \"reject\".\nWhen a handler is added to a rejected promise for the first time, it is called with its operation argument set to \"handle\".\nA typical implementation of HostPromiseRejectionTracker might try to notify developers of unhandled rejections, while also being careful to notify them if such previous notifications are later invalidated by new handlers being attached.`},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:206,columnNumber:3},this)},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:205,columnNumber:1},this),`\n`,(0,r.jsxDEV)(h,{children:(0,r.jsxDEV)(n.p,{children:'If operation is \"handle\", an implementation should not hold a reference to promise in a way that would interfere with garbage collection. An implementation may hold a reference to promise if operation is \"reject\", since it is expected that rejections will be rare and not on hot code paths.'},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:213,columnNumber:3},this)},void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:212,columnNumber:1},this)]},void 0,!0,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\",lineNumber:1,columnNumber:1},this)}function wn(d={}){let{wrapper:n}=d.components||{};return n?(0,r.jsxDEV)(n,Object.assign({},d,{children:(0,r.jsxDEV)(je,d,void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\"},this)}),void 0,!1,{fileName:\"/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx\"},this):je(d)}var vn=wn;function Te(d,n,m){throw new Error(\"Expected \"+(n?\"component\":\"object\")+\" `\"+d+\"` to be defined: you likely forgot to import, pass, or provide it.\"+(m?\"\\nIt\\u2019s referenced in your code at `\"+m+\"` in `/Users/wangbaoqi/personal/nant-es-core/docs/content/docs/asyncPerformance/promise/_mdx_bundler_entry_point-6cccaec1-e871-45e3-b039-d897ed1a87d5.mdx`\":\"\"))}return gn(Un);})();\n/*! Bundled license information:\n\nreact/cjs/react-jsx-dev-runtime.development.js:\n  (**\n   * @license React\n   * react-jsx-dev-runtime.development.js\n   *\n   * Copyright (c) Facebook, Inc. and its affiliates.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   *)\n*/\n;return Component;"
  },
  "_id": "docs/asyncPerformance/promise/promiseOperations.mdx",
  "_raw": {
    "sourceFilePath": "docs/asyncPerformance/promise/promiseOperations.mdx",
    "sourceFileName": "promiseOperations.mdx",
    "sourceFileDir": "docs/asyncPerformance/promise",
    "contentType": "mdx",
    "flattenedPath": "docs/asyncPerformance/promise/promiseOperations"
  },
  "type": "Docs",
  "url": "/docs/asyncPerformance/promise/promiseOperations"
}